# PLEXCollect Configuration Example
# Copy this file to config.yaml and fill in your actual values

plex:
  server_url: "http://localhost:32400"  # Your Plex server URL (e.g., http://192.168.1.100:32400)
  token: "YOUR_PLEX_TOKEN_HERE"  # Your Plex authentication token
  library_sections:  # Optional: Library sections to scan (leave empty for all movie/TV sections)
    - "Movies"
    - "TV Shows"

ai:
  provider: "openai"  # AI provider (currently only openai supported)
  api_key: "YOUR_OPENAI_API_KEY_HERE"  # Your OpenAI API key (starts with sk-proj- or sk-)
  model: "gpt-4o-mini"  # Model to use: gpt-4o-mini (recommended, cheapest), gpt-4o, o4-mini
  max_tokens: 4000  # Max tokens per response
  temperature: 0.3  # Model creativity (0.0-1.0, higher = more creative vibe matching)
  batch_size: 10  # Number of items to process per batch (recommended: 5-20)
  rate_limit:
    requests_per_minute: 20  # Adjust based on your OpenAI tier
    tokens_per_minute: 40000  # Adjust based on your OpenAI tier

collections:
  default_categories:
    # Vibe-Based Collections — what AI uniquely enables
    - name: "Cozy Comfort Movies"
      description: "Warm, comforting movies perfect for a blanket-and-tea evening"
      prompt: "Does this movie have a cozy, comforting vibe? Think warm lighting, gentle pacing, themes of home/family/belonging, feel-good endings. Examples: Amelie, The Holiday, Paddington, When Harry Met Sally. Consider the overall emotional warmth, not just genre."

    - name: "Mind-Bending Movies"
      description: "Movies that make you question reality or demand a second viewing"
      prompt: "Is this a mind-bending movie? Look for unreliable narrators, plot twists that recontextualize everything, non-linear timelines, reality-questioning themes, or complex puzzles. Examples: Inception, Memento, Eternal Sunshine, Mulholland Drive. The movie should leave viewers thinking long after credits roll."

    - name: "Visually Stunning"
      description: "Films celebrated for breathtaking cinematography and visual artistry"
      prompt: "Is this film known for exceptional visual beauty or cinematography? Consider sweeping landscapes, innovative visual effects, distinctive color palettes, artistic composition, or groundbreaking visual storytelling. Examples: Blade Runner 2049, Hero, Life of Pi, Mad Max: Fury Road. The visuals should be a primary reason to watch."

    - name: "Date Night Movies"
      description: "Perfect picks for a romantic evening — charming, engaging, universally enjoyable"
      prompt: "Is this a good date night movie? It should be engaging for two people, have romantic elements or chemistry, not be too dark or disturbing, and spark conversation. Think rom-coms, witty dramas, charming adventures. Examples: The Princess Bride, Crazy Rich Asians, La La Land, About Time. Avoid heavy trauma or extreme violence."

    - name: "Background Vibes"
      description: "Movies that work beautifully as ambient background — great aesthetics, low attention required"
      prompt: "Does this movie work well as background viewing? Look for beautiful visuals, great soundtracks, low plot complexity, pleasant atmosphere. Think nature docs, slice-of-life, gentle comedies, visually rich films you don't need to follow closely. Examples: The Secret Life of Walter Mitty, Chef, Midnight in Paris, Studio Ghibli films."

    - name: "Emotional Gut Punches"
      description: "Powerful films that will absolutely wreck you emotionally — in the best way"
      prompt: "Is this a deeply emotional movie that hits hard? Look for devastating plot turns, profound themes of loss/sacrifice/love, performances that make you cry, bittersweet endings. Examples: Schindler's List, Up, Manchester by the Sea, Grave of the Fireflies. The emotional impact should be the defining feature."

    - name: "Hidden Gems"
      description: "Underrated or lesser-known films that deserve more attention"
      prompt: "Is this likely a hidden gem — a great movie that most people haven't seen? Consider: not a major blockbuster, not widely referenced in pop culture, received critical acclaim or cult following but flew under the radar. Exclude any movie that was a top-10 box office hit or is universally known. Look for indie films, foreign cinema, overlooked releases."

    - name: "Adrenaline Rush"
      description: "Non-stop action and intensity — perfect when you want pure excitement"
      prompt: "Is this a high-adrenaline movie with non-stop action or intensity? Look for chase sequences, fight choreography, edge-of-seat tension, fast pacing. Examples: John Wick, The Raid, Mission Impossible: Fallout, Top Gun: Maverick. The movie should keep your heart rate elevated throughout."

    - name: "Late Night Weird"
      description: "Bizarre, surreal, or cult films perfect for late-night viewing"
      prompt: "Is this a weird, surreal, or cult movie that's best watched late at night? Look for bizarre premises, surreal imagery, cult followings, experimental storytelling, dark comedy, or anything that makes you say 'what did I just watch?' Examples: The Rocky Horror Picture Show, Donnie Darko, Sorry to Bother You, Everything Everywhere All at Once."

    - name: "Kids Can Watch Too"
      description: "Family-friendly films that adults genuinely enjoy — not just tolerate"
      prompt: "Is this a family-friendly movie that adults also genuinely enjoy? It should be appropriate for children (no graphic violence, sex, or heavy themes) but also have enough wit, emotion, or craft to entertain adults. Examples: Toy Story, The Incredibles, Spider-Verse, How to Train Your Dragon. Exclude films that are purely for very young children with no adult appeal."

  auto_create: true  # Automatically create collections that don't exist in Plex
  update_existing: true  # Update existing collections with new items
  remove_missing: false  # Remove items from collections if they no longer match (use with caution)

database:
  path: "data/collections.db"  # SQLite database file location
  backup_enabled: true  # Enable automatic database backups
  backup_interval_hours: 24  # Hours between automatic backups

scheduling:
  auto_scan_enabled: false  # Enable automatic periodic scanning
  scan_interval_hours: 24  # Hours between automatic scans
  scan_time: "02:00"  # Time to run automatic scans (24-hour format HH:MM)

logging:
  level: "INFO"  # Logging level: DEBUG, INFO, WARNING, ERROR
  file_enabled: true  # Enable logging to file
  file_path: "data/plexcollect.log"  # Log file location
  max_file_size_mb: 10  # Maximum log file size before rotation
  backup_count: 5  # Number of backup log files to keep

# Configuration Notes:
#
# Getting Your Plex Token:
# 1. Open Plex Web (usually at http://localhost:32400/web)
# 2. Go to Settings > General > Advanced
# 3. Copy the "X-Plex-Token" value
# OR visit: https://support.plex.tv/articles/204059436-finding-an-authentication-token-x-plex-token/
#
# Getting Your OpenAI API Key:
# 1. Visit https://platform.openai.com/api-keys
# 2. Create a new secret key
# 3. Add billing information to your OpenAI account
# 4. Note: API usage costs money based on tokens used
#
# Model Recommendations:
# - gpt-4o-mini: Best value — cheapest option with great quality (recommended)
# - gpt-4o: Higher quality, ~50x more expensive than gpt-4o-mini
# - o4-mini: Best reasoning model, good for complex classifications
#
# Vibe Collections:
# - These are subjective, taste-based categories that AI uniquely enables
# - Each prompt is tuned to help the AI understand the "vibe" you're going for
# - Customize prompts to match your personal taste
# - Use the Collection Builder to create custom collections with natural language
#
# Cost Estimates (gpt-4o-mini):
# - 500 movies, 10 categories: ~$0.02-0.05 per full scan
# - 2000 movies, 10 categories: ~$0.10-0.20 per full scan
# - Incremental scans (new items only) cost a fraction of full scans
